{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import { Context, Schema } from 'koishi'\nimport { DataService } from '@koishijs/plugin-console'\nimport { resolve } from 'path'\n\ndeclare module '@koishijs/plugin-console' {\n  namespace Console {\n    interface Services {\n      iframe: IFrameService\n    }\n  }\n}\n\nclass IFrameService extends DataService<IFrameService.Route[]> {\n  constructor(ctx: Context, private config: IFrameService.Config) {\n    super(ctx, 'iframe')\n\n    ctx.console.addEntry(process.env.KOISHI_BASE ? [\n      process.env.KOISHI_BASE + '/dist/index.js',\n      process.env.KOISHI_BASE + '/dist/style.css',\n    ] : process.env.KOISHI_ENV === 'browser' ? [\n      // @ts-ignore\n      import.meta.url.replace(/\\/src\\/[^/]+$/, '/client/index.ts'),\n    ] : {\n      dev: resolve(__dirname, '../client/index.ts'),\n      prod: resolve(__dirname, '../dist'),\n    })\n  }\n\n  async get(forced?: boolean) {\n    return this.config.routes\n  }\n}\n\nnamespace IFrameService {\n  export interface Route {\n    name: string\n    desc?: string\n    path: string\n    link: string\n    order?: number\n  }\n\n  export const Route: Schema<Route> = Schema.object({\n    name: Schema.string().required().description('页面标题。'),\n    desc: Schema.string().description('页面描述。'),\n    path: Schema.string().required().description('页面所占据的路由。'),\n    link: Schema.string().required().description('页面要访问的网络链接。'),\n    order: Schema.number().default(0).description('页面在活动栏中显示的优先级。'),\n  })\n\n  export interface Config {\n    routes: Route[]\n  }\n\n  export const Config: Schema<Config> = Schema.object({\n    routes: Schema.array(Route),\n  })\n}\n\nexport default IFrameService\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgC;AAChC,4BAA4B;AAC5B,kBAAwB;AAFxB;AAYA,IAAM,iBAAN,MAAM,uBAAsB,kCAAmC;AAAA,EAC7D,YAAY,KAAsB,QAA8B;AAC9D,UAAM,KAAK,QAAQ;AADa;AAGhC,QAAI,QAAQ,SAAS,QAAQ,IAAI,cAAc;AAAA,MAC7C,QAAQ,IAAI,cAAc;AAAA,MAC1B,QAAQ,IAAI,cAAc;AAAA,IAC5B,IAAI,QAAQ,IAAI,eAAe,YAAY;AAAA;AAAA,MAEzC,YAAY,IAAI,QAAQ,iBAAiB,kBAAkB;AAAA,IAC7D,IAAI;AAAA,MACF,SAAK,qBAAQ,WAAW,oBAAoB;AAAA,MAC5C,UAAM,qBAAQ,WAAW,SAAS;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,MAAM,IAAI,QAAkB;AAC1B,WAAO,KAAK,OAAO;AAAA,EACrB;AACF;AAnB+D;AAA/D,IAAM,gBAAN;AAAA,CAqBA,CAAUA,mBAAV;AASS,EAAMA,eAAA,QAAuB,qBAAO,OAAO;AAAA,IAChD,MAAM,qBAAO,OAAO,EAAE,SAAS,EAAE,YAAY,OAAO;AAAA,IACpD,MAAM,qBAAO,OAAO,EAAE,YAAY,OAAO;AAAA,IACzC,MAAM,qBAAO,OAAO,EAAE,SAAS,EAAE,YAAY,WAAW;AAAA,IACxD,MAAM,qBAAO,OAAO,EAAE,SAAS,EAAE,YAAY,aAAa;AAAA,IAC1D,OAAO,qBAAO,OAAO,EAAE,QAAQ,CAAC,EAAE,YAAY,gBAAgB;AAAA,EAChE,CAAC;AAMM,EAAMA,eAAA,SAAyB,qBAAO,OAAO;AAAA,IAClD,QAAQ,qBAAO,MAAMA,eAAA,KAAK;AAAA,EAC5B,CAAC;AAAA,GAvBO;AA0BV,IAAO,cAAQ;",
  "names": ["IFrameService"]
}
