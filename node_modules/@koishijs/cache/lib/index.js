"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const koishi_1 = require("koishi");
class Cache extends koishi_1.Service {
    constructor(ctx) {
        super(ctx, 'cache');
    }
    async forEach(table, callback) {
        const tasks = [];
        for await (const [key, value] of this.entries(table)) {
            tasks.push(callback(value, key));
        }
        await Promise.all(tasks);
    }
}
exports.default = Cache;
