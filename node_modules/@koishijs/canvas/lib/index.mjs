var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

// external/puppeteer/external/canvas/src/index.ts
import { h, Service } from "koishi";
var CanvasService = class extends Service {
  static {
    __name(this, "CanvasService");
  }
  constructor(ctx) {
    super(ctx, "canvas");
  }
  async render(width, height, callback) {
    const canvas = await this.createCanvas(width, height);
    try {
      await callback(canvas.getContext("2d"));
      const buffer = await canvas.toBuffer("image/png");
      return h.image(buffer, "image/png");
    } finally {
      await canvas.dispose();
    }
  }
};
var src_default = CanvasService;
export {
  src_default as default
};
//# sourceMappingURL=index.mjs.map
